<?xml version="1.0" encoding="UTF-8"?>
<grids>
    <passaporti>
        <title>Passaporti</title>
        <parameters>
            <pers_id>
                <from>arrdefaultnamespace</from>
                <array>currPers</array>
                <offset>idPersonale</offset>
            </pers_id>
        </parameters>        
        <addlink>/passport/new</addlink>
        <addtitle>Nuovo passaporto</addtitle>
        <select>
            <from>
                <aliasname>
                    <passaporti>passaporti</passaporti>
                </aliasname>
                <fields>
                    <idPass>idPass</idPass>
                    <Numero>Numero</Numero>
                    <DataRilascio>DataRilascio</DataRilascio>
                    <LuogoRilascio>LuogoRilascio</LuogoRilascio>
                    <Scadenza>Scadenza</Scadenza>
                    <Limitazioni>Limitazioni</Limitazioni>
                    <Note>Note</Note>
                </fields>
            </from>
            <where>
                <from>
                passaporti.idPersonale = "{{pers_id}}"                    
                </from>
            </where>
        </select>
        <updatecolumns>
            <idPass>
                <hidden>1</hidden>
            </idPass>
            <Numero>
                <title>Numero</title>
                <position>1</position>
            </Numero>
            <DataRilascio>
                <position>2</position>
                <title>Data rilascio</title>
<!--                <format>date</format>
                <format>
                    <locale>it-IT</locale>
                    <date_format>dd/MM/y</date_format>
                </format>-->
            </DataRilascio>
            <LuogoRilascio>
                <title>Luogo rilascio</title>
                <position>3</position>
            </LuogoRilascio>
            <Scadenza>
                <position>4</position>
                <title>Scadenza</title>
<!--                <format>date</format>
                <format>
                    <locale>it-IT</locale>
                    <date_format>dd/MM/y</date_format>
                </format>-->
            </Scadenza>
            <Limitazioni>
                <title>Limitazioni</title>
                <position>5</position>
            </Limitazioni>
            <Note>
                <title>Note</title>
                <position>6</position>
            </Note>
        </updatecolumns>
        <updateCallbacks>
            <DataRilascio>
                <class>Custom_GridCallback</class>
                <method>format_date</method>
                <params>{{DataRilascio}}</params>
            </DataRilascio>
            <Scadenza>
                <class>Custom_GridCallback</class>
                <method>format_date</method>
                <params>{{Scadenza}}</params>
            </Scadenza>
            <End></End>
        </updateCallbacks>        
        <extracolumns>
            <Edit>
                <position>left</position>
                <title>Edit</title>
                <decorator>
                    /passport/edit/id/{{idPass}}#/images/edit.png#Edit
                </decorator>
            </Edit>
        </extracolumns>
    </passaporti>
</grids>